@{
    ViewData["Section"] = "Posts";
    ViewData["Subsection"] = "List";
}
@model List<neobooru.ViewModels.ArtThumbnailViewModel>

<div id="search-section">
    <form>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <button class="btn" style="background: #1dd1a1; color: white;"><svg class="svg-inline--fa fa-align-left fa-w-14" aria-hidden="true" data-prefix="fas" data-icon="align-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M288 44v40c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16V44c0-8.837 7.163-16 16-16h256c8.837 0 16 7.163 16 16zM0 172v40c0 8.837 7.163 16 16 16h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16zm16 312h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm256-200H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16h256c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16z"></path></svg> Toggle Search Options</button>
            </div>
            <input type="text" class="form-control" placeholder="Ex: blue_sky cloud 1girl" aria-label="Recipient's username" aria-describedby="basic-addon2">
            <div class="input-group-append">
                <button class="btn" style="background: #218c74; color: white;">Search</button>
            </div>
        </div>
    </form>
</div>

<div id="art-container">
    @{ int length = Model.Count; }
    @{ int left = length; }
    @for (var i = 0; i < length;)
    {
        <div class="row mt-3">
            @{ int bound = left > 5 ? 5 : left; }
            @for (var a = 0; a < bound; a++)
            {
                <div class="col-sm">
                    @* <a href="/posts/post/fd246dbf-1df0-439c-b7bb-5dfd854fdf47"> *@
                    <a href="@Url.Content("/posts/post?postId=" + Model[i].ArtId)">
                        <div class="card">
                            <img src="@Url.Content(Model[i].FileUrl)" class="card-img-top"/>
                            <div class="card-footer">
                                <h5 class="card-title">@Model[i].ArtName</h5>
                                <p class="card-text">Made by @Model[i].ArtistName<br/>Uploaded: @Model[i].UploadDate.ToString()</p>
                            </div>
                        </div>
                    </a>
                </div>
                i++;
                left--;
                @if (left == 0 && a < 4)
                {
                    @for (var b = 0; b + a < 5; b++)
                    {
                        <div class="col-sm"></div>
                    }
                }
            }
        </div>
    }
</div>

<nav class="mt-5">
    <ul class="pagination justify-content-center">
        @if (!ViewBag.PreviousPage.Equals(""))
        {
            <li class="page-item">
                <a class="page-link" href="@Url.Content("/posts/list?page=" + ViewBag.PreviousPage)" tabindex="-1">Previous</a>
            </li>
            <li class="page-item">
                <a class="page-link custom-notactive-page" href="@Url.Content("/posts/list?page=" + ViewBag.PreviousPage)">@ViewBag.PreviousPage</a>
            </li>
        }
        else
        {
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1">Previous</a>
            </li>
        }
        <li class="page-item active">
            <a class="page-link custom-active-page" href="#">@ViewBag.Page <span class="sr-only">(current)</span></a>
        </li>
        @if (!ViewBag.NextPage.Equals(""))
        {
            <li class="page-item">
                <a class="page-link custom-notactive-page"
                   href="@Url.Content("/posts/list?page=" + ViewBag.NextPage)">@ViewBag.NextPage</a></li>
            <li class="page-item">
                <a class="page-link custom-notactive-page"
                   href="@Url.Content("/posts/list?page=" + ViewBag.NextPage)">Next</a>
            </li>
        }
        else
        {
            <li class="page-item disabled">
                <a class="page-link">Next</a>
            </li>
        }
    </ul>
</nav>
